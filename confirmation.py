# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'confirmation.ui'
#
# Created by: PyQt5 UI code generator 5.15.9
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

from PyQt5 import QtCore, QtGui, QtWidgets
import os

#Class that creates the Instance for Confirmation
class Ui_confirm(object):

    #Initialize UI
    def setupUi(self, confirmation):
        confirmation.setObjectName("confirmation")
        confirmation.resize(412, 168)
        self.warning = QtWidgets.QLabel(confirmation)
        self.warning.setGeometry(QtCore.QRect(40, 30, 331, 31))
        font = QtGui.QFont()
        font.setFamily("Montserrat Black")
        font.setPointSize(9)
        font.setBold(True)
        font.setUnderline(True)
        font.setWeight(75)
        font.setStrikeOut(False)
        self.warning.setFont(font)
        self.warning.setObjectName("warning")
        self.yes = QtWidgets.QPushButton(confirmation)
        self.yes.setGeometry(QtCore.QRect(70, 90, 93, 28))
        self.yes.setObjectName("yes")

        #Handles Yes When Clicked.
        #Lambda function is used to create a callable function that takes no arguments and calls the handle_no method with the confirmation.
        self.yes.clicked.connect(lambda: self.handle_yes(confirmation))

        self.no = QtWidgets.QPushButton(confirmation)
        self.no.setGeometry(QtCore.QRect(250, 90, 93, 28))
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setBold(False)
        font.setWeight(50)
        self.no.setFont(font)
        self.no.setObjectName("no")

        # Handles no instance when clicked.
        # Lambda function is used to create a callable function that takes no arguments and calls the handle_no method with the confirmation.
        self.no.clicked.connect(lambda: self.handle_no(confirmation))

        self.retranslateUi(confirmation)
        QtCore.QMetaObject.connectSlotsByName(confirmation)

    def retranslateUi(self, confirmation):
        _translate = QtCore.QCoreApplication.translate
        confirmation.setWindowTitle(_translate("confirmation", "confirmation"))
        self.warning.setText(_translate("confirmation", "Are you sure you want to delete all data?"))
        self.yes.setText(_translate("confirmation", "Yes!"))
        self.no.setText(_translate("confirmation", "NO!"))

    #Method for reject instance
    def handle_no(self, conf_v):
        conf_v.close()  # Hide the confirmation window
    
    #Method, when clicked, deletes all items in profile.
    def handle_yes(self, conf_v):

        folder_path = 'profiles'
        files = os.listdir(folder_path)

        #Reads the length of files and if none, list as "empty"
        if len(files) == 0:
            print ("Empty Directory.")
            QtWidgets.QMessageBox.information(None, 'Empty', "There were no profiles in folder.")

        #Deletes files in path
        for f in files:
            file_path = os.path.join(folder_path, f)
            print (f, " has been deleted")
            QtWidgets.QMessageBox.information(None, 'Deleted', "All Profiles have been deleted.")
            os.remove(file_path)

        conf_v.close()  # Hide the confirmation window
        


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    confirmation = QtWidgets.QDialog()
    ui = Ui_confirm()
    ui.setupUi(confirmation)
    confirmation.show()
    sys.exit(app.exec_())
